---
title: 스마트 매치 매치 메이킹
description: 멀티 플레이 게임에서 일치 하는 플레이어의 Xbox Live SmartMatch 결혼 정보 회사 서비스에 알아봅니다.
ms.assetid: ba0c1ecb-e928-4e86-9162-8cb456b697ff
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live, xbox, 게임, uwp, windows 10, xbox one, 멀티 플레이 매 치메이 킹, smartmatch
ms.localizationpriority: medium
ms.openlocfilehash: 6bc5f15e6fdb7d2f393daef8d21c134579610a9b
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2019
ms.locfileid: "57647298"
---
# <a name="smartmatch-matchmaking"></a>스마트 매치 매치 메이킹

이 문서에는 다음 섹션이 있습니다.
* SmartMatch 소개
* SmartMatch 런타임 작업
* SmartMatch을 제목에 대 한 구성
* SmartMatch 구성 하는 동안 팀 규칙을 정의합니다.
* 대상 세션 초기화 및 QoS

## <a name="introduction-to-smartmatch"></a>SmartMatch 소개

XSAPI SmartMatch 래핑되는 호출 결혼 정보 회사 연결 서비스를 제공 합니다 [멀티 플레이 게임 관리자 API](../multiplayer-manager/multiplayer-manager-api-overview.md)합니다.  고급 API 사용을 참조할 수 있습니다 합니다 **MatchmakingService 클래스**, 멀티 플레이 게임 관리자를 사용 하 여 구현 하는 것이 불가능 매 치메이 킹 시나리오가 있는 경우 의견을 남겨 주세요 우리에 게 프로그램 파악 통해 있지만.  사용할 API에 관계 없이이 문서의 개념 정보를 적용 합니다.

SmartMatch 매 치메이 킹 함께 재생 하려는 플레이어 사용자 정보 및 사용자에 대 한 결혼 정보 회사 연결 요청에 따라 그룹화 합니다. 결혼 정보 회사는 서버 기반, 즉 사용자가 서비스에 요청 제공 되 고 일치 하는 경우에 나중에 알림이 표시 됩니다. 에 설명 된 대로 SmartMatch 제목을 Xbox One 용으로 빌드하는 경우 사용할 수 있습니다 [를 사용 하 여 매 치메이 킹 SmartMatch](using-smartmatch-matchmaking.md)합니다. 에 설명 된 대로 사용자 고유의 매 치메이 킹 서비스 수 또는 [고유한 결혼 정보 회사 연결 서비스를 사용 하 여](https://developer.microsoft.com/en-us/games/xbox/docs/xboxlive/xbox-live-partners/multiplayer-and-networking/using-your-own-matchmaking-service)입니다. 이 링크에 액세스 해야 하는 참고를 [파트너 센터](https://partner.microsoft.com/dashboard) Xbox Live 개발에 사용 되는 계정입니다.

### <a name="about-smartmatch"></a>SmartMatch에 대 한

매 치메이 킹 서비스 MPSD 결혼 정보 회사 연결을 간소화 하기 위해 밀접 하 게 작동 합니다. 제목 예를 들어 사용자는 단일 플레이어를 재생 하는 동안 백그라운드에서 매 치메이 킹을 쉽게 할 수 있도록 내 제목입니다.

개인 또는 그룹을 매 치메이 킹 입력 일치 티켓 세션을 만든 다음 일치 항목을 설정 하는 다른 플레이어를 찾으려면 결혼 정보 회사 연결 서비스를 요청 합니다. 그러면 매 치메이 킹 서비스 기간 내에 있는 "일치 티켓" 임시 생성 됩니다.

결혼 정보 회사 연결 서비스를 함께 구성에 따라 재생 하는 데 세션 선택 일치 요청 시 지정 된 추가 정보 및 각 플레이어에 대 한 저장 된 통계입니다. 그런 다음 서비스 일치 된 하 고 일치 항목의 제목 사용자에 게 알리는 모든 플레이어를 포함 하는 일치 항목이 대상 세션을 만듭니다.

대상 세션이 준비 되 면 제목 그룹 함께 재생 하 고 다음 모두 정상인 경우 재생을 시작할 수 확인 하려면 QoS 검사를 수행 합니다. QoS 프로세스 및 matchmade 게임 플레이 중, 제목 세션 상태 내 MPSD를 최신 상태로 유지 하 고 세션에 변경에 대 한 MPSD 로부터 알림을 이러한 수신 합니다. 이러한 변경 내용을 가져오고, 사용자를 포함 하 고 세션 중재자를 변경 합니다.


### <a name="match-ticket-session"></a>일치 티켓 세션

일치 티켓 세션 플레이어가 일치 여부를 확인 하려는 클라이언트를 나타냅니다. 게임, 또는 플레이어의 기타 title 별 그룹화 또는 완전히 모르는 사람과 함께 로비에 있는 그룹에 따라 생성 됩니다. 경우에 따라 티켓 세션에 대 한 더 많은 플레이어를 검색 하는 진행 중인 이미 게임 세션 수 있습니다.


### <a name="match-ticket"></a>티켓 일치

결혼 정보 회사 연결 시도 추적 하는 일치 티켓을 만드는 결과 매 치메이 킹에 대 한 티켓 세션을 제출 합니다. 예를 들어 게임 맵 또는 티켓 세션에서 플레이어의 특성과 함께 플레이어 수준에서 티켓의 특성은 일치 항목을 확인 하는 데 사용 됩니다.
#### <a name="hoppers"></a>Hoppers

Hoppers 일치 티켓 수집 되는 논리적 위치는입니다. 동일한 hopper 내 티켓만 일치할 수 있습니다. 제목에는 여러 hoppers 있을 수 있습니다. 예를 들어, 제목을 하나 hopper는 플레이어에 대 한 기술은 일치 하는 가장 중요 한 항목을 만들 수 있습니다. 다른 hopper는 플레이어만 일치 시 키도 같은 다운로드 가능한 콘텐츠를 구매한 경우 사용할 수 있습니다.


#### <a name="hopper-rules"></a>Hopper 규칙

Hopper 규칙 결혼 정보 회사 연결 서비스를 함께 그룹화 하는 플레이어에서 결정 하는 데를 사용 하는 조건의 정의 제공 합니다. 규칙에는 다음과 같은 두 종류가 있습니다.   해야 규칙-호환 간주 되기 위해 티켓 일치를 위해 충족 해야 합니다.
-   규칙은-우선 하지 않는 규칙을 일치 하는 일치 티켓을 적용 합니다.

각이 범주 내에서 여러 특정 유형의 규칙이 있습니다. 자세한 내용은 런타임 작업 구성 정보를 참조 하세요 **SmartMatch 런타임 작업**합니다.


### <a name="match-target-session"></a>일치 대상 세션

일치 하는 그룹을 찾은 서비스 일치 대상 세션을 만들고 함께 일치 하는 티켓 세션에서 모든 플레이어에 대 한 위치를 예약 합니다.


## <a name="smartmatch-runtime-operations"></a>SmartMatch 런타임 작업



| 참고                                                                                                                                  |
|----------------------------------------------------------------------------------------------------------------------------------------------------|
| SmartMatch 결혼 정보 회사 연결을 사용 하 여 제목에 대 한 자세한 내용은 [를 사용 하 여 매 치메이 킹 SmartMatch](using-smartmatch-matchmaking.md)합니다. |


### <a name="creating-a-match-ticket-session-and-a-match-ticket"></a>일치 티켓 세션과 일치 티켓 만들기

매 치메이 킹 "scout"으로 지정 하는 클라이언트 플레이어가 매 치메이 킹 입력 하려는 그룹을 나타내는 일치 티켓 세션을 설정 합니다. 이 그룹의 모든 플레이어 MultiplayerSession.Join 메서드를 사용 하 여 세션에 참가 합니다. 세션 플레이어를 채운 후 제목 세션 세션을 나타내는 일치 티켓을 만들어 MatchmakingService.CreateMatchTicketAsync 메서드를 사용 하는 결혼 정보 회사 서비스에 제출 합니다.

| 참고                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| SmartMatch 서비스 CreateMatchTicketAsync 작업 중에 "검색" 티켓 세션에서 /servers/matchmaking/properties/system/status 필드를 업데이트합니다. |

일치 티켓 생성 메서드의 응답을에서 CreateMatchTicketResponse 개체입니다. 이 응답에는 티켓을 삭제 하 여 매 치메이 킹 취소에 사용할 수 있는 GUID 일치 티켓 ID를 포함 합니다. 또한는 hopper에 대 한 평균 대기 시간을 플레이어 기대치를 설정 사용에 대 한 응답에 포함 됩니다.

| 참고                                                                                                                                                                                                                                                                                                                                 |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 유지 해야 하는 특정 게임 상태 데이터가 없는 CreateMatchTicketAsync를 호출할 때 제목 PreserveSessionMode.Never 값을 사용 하는 것이 좋습니다. PreserveSessionMode.Never를 사용 하 여 더 빠르게 결혼 정보 회사 연결을 허용 및 게임에 대 한 검색을 반대로 게임 호스팅에 대 한 사용자 인터페이스 옵션을 사용할 필요가 없습니다. |


### <a name="setting-matchmaking-attributes-on-the-session-and-players"></a>세션 및 플레이어에 매 치메이 킹 특성 설정

세션 티켓을 제출 제목 세션을 설정 하 고 플레이어 특성을 다른 세션을 사용 하 여 세션을 그룹화 할 결혼 정보 회사 연결 서비스를 사용 합니다. 티켓 수준 또는 멤버 단위 수준에서 특성을 지정할 수 있습니다.


### <a name="setting-matchmaking-attributes-at-the-match-ticket-level"></a>일치 티켓 수준 결혼 정보 회사 연결 특성을 설정합니다.

제목은 MatchmakingService.CreateMatchTicketAsync 메서드의 ticketAttributesJson 매개 변수에 일치 티켓 수준에서 특성을 제출합니다. 티켓 수준에서 지정 된 특성 구성원 단위 수준에서 지정 된 동일한 특성을 재정의 합니다.


#### <a name="setting-matchmaking-attributes-at-the-per-member-level"></a>매 치메이 킹 특성 구성원 단위 수준에서 설정

제목 일치 티켓 세션 내에서 각 구성원에서 구성원 단위 특성을 지정합니다. 이러한 "matchAttrs"의 속성 이름을 사용 하 여 MultiplayerSession.SetCurrentUserMemberCustomPropertyJson 메서드를 호출 하 여 설정 됩니다. 이 호출은 특성에 배치 /members/ {index} / 속성/사용자 지정/티켓 세션 내에서 각 플레이어에 matchAttrs 필드입니다.

매 치메이 킹 프로세스 "평면화" 각 구성원에는 hopper Xbox Live 구성 UI에서에서 해당 특성에 대해 지정 된 결합 방법에 따라 단일 티켓 수준 특성을 합니다. 이 구성할 수 있습니다 [XDP](https://xdp.xboxlive.com) 하거나 [파트너 센터](https://partner.microsoft.com/dashboard)합니다.


### <a name="making-the-match"></a>일치를 수행합니다.

티켓 세션과 일치 항목을 사용 하 여 티켓을 설정 하 여 매 치메이 킹 서비스 일치 항목을 다른 그룹을 나타내는 다른 티켓 세션을 사용 하 여 표현된 티켓 세션 만들거나 일치 대상 세션을 식별 합니다. 또한 대상 세션에서 일치 하는 플레이어에 대 한 예약을 만듭니다 하 한 다음 일치 하는 대로 티켓 세션을 표시 하는 서비스입니다. MPSD 티켓 세션에 대 한이 변경은 제목을 알립니다.

이제 제목은 충분 한 플레이어 표시를 확인 하려면 대상 세션을 초기화 하 고 품질의 QoS (서비스) 검사 서로 성공적으로 연결할 수 있는지를 수행 해야 합니다. 초기화 및/또는 QoS 못하면 제목 다른 그룹을 찾을 수 있도록 결혼 정보 회사 연결을 다시 제출 티켓 세션을 표시 합니다. 이 프로세스에 대 한 자세한 내용은 참조 하세요. **대상 세션 초기화 및 QoS**합니다.

일치 작업 중 다음 변경 내용은 세션에 대 한 JSON 개체를 적용 됩니다.

-   /servers/matchmaking/properties/system/status 필드는 "찾을"로 설정 합니다.
-   /servers/matchmaking/properties/system/targetSessionRef 필드 대상 세션으로 설정 합니다.
-   /members/ {index} / 속성/사용자 지정 각 티켓 세션에 대 한 matchAttrs 필드 멤버에 복사 / {index} / / 상수/사용자 지정/matchmakingResult/playerAttrs 필드입니다.
-   각 플레이어에 대 한 티켓 /members/ {index}에 일치 티켓 ticketAttributes 필드에서 복사 하는 특성/상수/사용자 지정/matchmakingResult/ticketAttrs 필드입니다.


### <a name="maintaining-the-match-ticket"></a>일치 티켓을 유지 관리

세션에 대 한 일치 티켓을 만들면 시 티켓 세션의 스냅숏을 사용 하는 결혼 정보 회사 연결 서비스입니다. 따라서 모든 플레이어 조인 또는 티켓 세션을 유지 하는 경우 제목을 삭제 하 고 다시 일치 티켓 매 치메이 킹 서비스를 사용 해야 합니다.


### <a name="filling-spots-in-an-in-progress-game-session"></a>진행 중인 게임 세션에 지점을 입력

제목을 더 많은 라운드를 완료 하는 게임 세션을 입력 하거나 이미 진행 중인 게임 참여 및 일부 플레이어 왼쪽 찾기에 대 한 일치 티켓 세션으로 기존 게임 세션을 다시 사용할 수 있습니다. 이 프로세스를 "백필" 이라고 합니다.

수행 하는 한 가지 방법은 백필은 호출 하 여 진행 중인 세션 "유지" 하는 일치 티켓을 만드는 **MatchmakingService.CreateMatchTicketAsync 메서드** preserveSession 매개 변수 설정 합니다. PreserveSessionMode.Always 합니다. 그런 다음 매 치메이 킹 서비스 기존 세션을 매 치메이 킹 과정 유지 되도록 하 고 결과 대상 세션 됩니다.

두 개의 세션을 Always로 설정 하는 preserveSession 결합할 수 없습니다 때문에 서로 일치 수 없으므로이 패턴에 단점이 있습니다. 이 매우 느린 백필 결혼 정보 회사 연결 될 수 있습니다. 이 시나리오를 방지 하려면 제목만 사용 해야 PreserveSessionMode.Always 게임 상태를 유지 해야 합니다. Otherwis PreserveSessionMode.Never 집합과 일치 하는 경우 새 targetSession 플레이어로 합니다.


### <a name="deleting-the-match-ticket"></a>일치 티켓 삭제

일치 티켓 제목 삭제 호출 **MatchmakingService.DeleteMatchTicketAsync 메서드**합니다. 매 치메이 킹 서비스 티켓의 삭제:

1.  티켓 세션에서 사용자에 대해 매 치메이 킹을 중지합니다.
2.  업데이트 티켓 세션에서 /servers/matchmaking/properties/system/status 필드 "canceled"입니다.


### <a name="matchmaking-for-games-using-xbox-live-compute"></a>Xbox Live 계산을 사용 하 여 게임에 대 한 매치 메이 킹

다음 예제에서는 Live 계산 서비스를 사용 하는 높은 수준의 결혼 정보를 보여 줍니다. 유사한 방법을 타사 리소스에서 호스트 되는 게임을 적용할 수 있습니다.

1.  'Scout' 클라이언트 그룹을 나타내는 티켓 세션을 만듭니다. 이 세션 /constants/system/measurementServerAddresses에서 세션 구성에 있는 잠재적인 데이터 센터의 목록을 포함 합니다. 제공 하거나 세션 템플릿을 데이터 센터 목록 정적 이면 또는 Live 계산 서비스에서 받은 후 세션 생성 시 클라이언트에서. 이 세션에는 또한 gsiSetId, gameVariantId, 및 targetSessionConstants/사용자 지정/gameServerPlatform 개체의 maxAllowedPlayers 값 포함합니다.
2.  그룹의 다른 모든 클라이언트 티켓 세션에 참가 합니다.
3.  그룹의 모든 멤버는 티켓 세션에 대 한 /constants/system 개체에서 measurementServerAddresses 값을 다운로드합니다. 각 멤버에서 다음 플랫폼 API를 사용 하 여 각 주소를 ping 하 고 /members/ {index}에 정의 된 대로 세션에 대 한 기본 데이터 센터의 정렬된 된 목록을 업로드/속성/시스템/serverMeasurements 합니다.

| 참고                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 제목을 설정 하 고 사용 하 여 세션에서 measurementServerAddresses 값을 검색할 수 **MultiplayerSession.SetMeasurementServerAddresses 메서드** 하며  **MultiplayerSessionConstants.MeasurementServerAddressesJson 속성**합니다. |

4.  'Scout' 클라이언트 호출이 **MatchmakingService.CreateMatchTicketAsync 메서드**티켓 세션에 대 한 참조를 전달 합니다.

| 참고                                                                                                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 티켓 세션 개체에 일치 하지 않는 상수 있으면 CreateMatchTicket 메서드가 실패할 수 있습니다. 이 반드시를 추가 하 여 방지할 수는 hopper를 규칙 및 일치 하지 않는 상수를 사용 하 여 플레이어의 일치를 방지 합니다. |

5.  경우는 **MatchTicketDetailsResponse.PreserveSession 속성** 설정 안 함, 매 치메이 킹 서비스 복사 server 측정 각 구성원에서 직선으로 만들기 전에 티켓의 내부 표현으로는 티켓에 대 한 단일 컬렉션 하 고 "특별" 티켓 특성으로 저장을 수집 합니다.
6.  하는 경우 **MatchTicketDetailsResponse.PreserveSession 속성** 항상 측정을 사용 하지 않는 서버에 설정 됩니다. 대신, 결혼 정보 회사 서비스 대기 시간이 0 크기 1 serverMeasurements 컬렉션으로 티켓을의 내부 표현이에 세션에 대 한 /properties/system/matchmaking/serverConnectionString 값을 복사 합니다.
7.  결혼 정보 회사 연결 서비스는 티켓 세션 서버 계정에 대 한 측정 컬렉션을 수행 하는 다른 그룹을 나타내는 다른 사용자와 일치 합니다. 항상 기본 설정에 관계 없이 동일한 데이터 센터에 있는 다른 그룹을 사용 하 여 그룹을 일치 하려고 합니다.
8.  일치 하는 그룹을 찾은, 결혼 정보 회사 연결 서비스 또는 대상 세션을 식별 하 만들고 함께 일치 하는 티켓 세션에서 모든 사람들에 게 추가 합니다. 서비스에서는 일치 하는 그룹에 대 한 최종 일반된 서버 측정 /properties/system/serverConnectionStringCandidates 씁니다. 그런 다음 각각의 새 멤버에 대 한 원래 서버 측정값 대상 세션에서에 쓰는지 /members/ {index} / 상수/시스템/matchmakingResult/serverMeasurements 합니다.
9.  모든 클라이언트는 위에서 설명한 것 처럼 대상 세션에서 초기화를 수행 합니다. 그러나 클라이언트가 연결할 Live Compute을 하기 때문에 수행 하지 않습니다 QoS 서로 연결을 확인 합니다.
10. 일부 또는 모든 클라이언트 호출 **GameServerPlatformService.AllocateClusterAsync 메서드**합니다. 첫 번째 승인을 다른 수신 하는 동안 할당을 트리거합니다. 메서드 대상 세션 MPSD에서 가져오고 대상 세션으로 로드 및 기타 라이브 계산 관련 정보에는 데이터 센터 기본 설정에 따라 dataceter를 선택 합니다.
11. 모든 클라이언트를 재생합니다.

## <a name="configuring-smartmatch-for-your-title"></a>SmartMatch을 제목에 대 한 구성


### <a name="configuration-of-smartmatch-matchmaking-runtime-operations"></a>SmartMatch 매 치메이 킹 런타임 작업 구성

SmartMatch 결혼 정보 회사의 모든 구성을 통해 수행 합니다 [Xbox 개발자 포털 (XDP)](https://xdp.xboxlive.com) 하거나 [파트너 센터](https://partner.microsoft.com/dashboard)합니다. 구성에서 ServiceConfiguration-&gt;멀티 플레이 게임 및 매 치메이 킹 섹션 제목에 대 한 합니다.


#### <a name="matchmaking-session-template-configuration"></a>매 치메이 킹 세션 템플릿 구성

에 설명 된 대로 [SmartMatch 매 치메이 킹](/windows/uwp/xbox-live/multiplayer/multiplayer-appendix/smartmatch-matchmaking), 매 치메이 킹, 일치 티켓 세션 및 일치 대상 세션 관련 된 세션의 두 종류가 있습니다. 기본적으로, 티켓 세션은 결혼 정보 회사 서비스에 대 한 입력은 대상 세션을 출력 하는 동안. 세션 템플릿을 구성 하는 경우에 각 세션 유형 위한 템플릿을 만들어야 합니다.

티켓 세션에 대 한 전용된 템플릿을 사용할 수 있습니다. 또는 로비 세션 또는 게임 플레이를 사용할 수 없습니다 다른 세션에 대 한 템플릿을 재사용할 수 있습니다.

| 중요                                                                                      |
|-------------------------------------------------------------------------------------------------------------|
| 티켓 세션 QoS 검사를 활성화 없어야 및 "게임 플레이" 기능을 사용 하 여 표시 되어야 합니다. |

대상 세션에 대 한 matchmade 게임에 대 한 대상으로 하는 템플릿을 사용 해야 합니다. 게임 플레이 시작 하기 전에 피어 간의 QoS 검사를 사용 하도록 설정 하 고 "게임 플레이" 기능을 사용 하 여 표시 되어야 합니다는 설정이 있어야 합니다.

구성 XDP 또는 파트너 센터에 대 한 UI에 사용 하 여 각 세션 하나 이상의 hoppers, 방법 세션 일치 하는 함께 해당 hopper를 결정 하는 각 포함 된 규칙에 매핑할 수 있습니다. 자세한 내용은 매 치메이 킹에 대 한 기본 Hopper 구성을 참조 하세요.


#### <a name="basic-hopper-configuration-for-matchmaking"></a>매 치메이 킹에 대 한 기본 Hopper 구성

이 섹션에서는 기본 hopper 필드를 구성 하는 데 사용 하는 필드를 정의 합니다. 이 구성 후 Hopper 규칙의 구성에 설명 된 대로 hopper 규칙을 구성 해야 합니다.

![](../../images/multiplayer/session_template_hopper_edit.png)


###### <a name="name"></a>이름

매 치메이 킹에 대 한 세션을 전송할 때 사용 되는 hopper의 이름입니다. 이 이름은 매개 변수로 전달 된 값이 일치 해야 합니다 **CreateMatchTicketAsync** 메서드 일치 티켓을 만드는 중입니다.


###### <a name="minmax-group-size"></a>최소/최대 그룹 크기

hopper 세션에서 만들어지는 플레이어 그룹에 대 한 최소 및 최대 크기입니다. 결혼 정보 회사 연결 서비스는 최대 그룹 크기까지 가능한 큰으로 일치 하는 그룹을 만들려고 시도 합니다. 그러나 최소 그룹 크기에 맞게 충분 한 플레이어를 조합할 수 있는 경우 일치 하는 그룹을 생성지 않습니다.


###### <a name="should-rule-expansion-cycles"></a>확장 주기 규칙은

SHOULD에 대 한 규칙을 매 치메이 킹 서비스가 자동으로 검색 공간 늘리기 및 성공한 일치 항목이 없는 경우 시간이 지남에 따라 제공 된 결혼 정보 회사 연결 규칙을 완화 합니다. 이 프로세스는 규칙 확장 주기는 필드를 사용 하 여 지정 된 여러 주기를 통해 수행 됩니다. 마지막 확장 주기 시 SHOULD 규칙은 더 이상 티켓에서 없도록 일치 하는 삭제 됩니다. 그러나 여러 티켓 사용 가능한 경우 가장 일치 하는 확인 하려면 사용 계속 됩니다. 개수 및 QoS 유형에 끌어 놓을 전에 확장 됩니다. 이 항목의 참고 Hopper 규칙의 구성 항목입니다.

설정에 대 한 많은 주기를 제공 해야 규칙 Explansion 순환의 값을 늘리면 확장 규칙 해야 하지만 매 치메이 킹 기간도 늘어납니다. 기본값은 3, 일반적으로 대부분의 구성에 대 한 충분 한입니다.

| 중요                                                                                                                                                                        |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 확장 주기 5 초의 고정 된 시간 간격으로 발생 합니다. 마지막 확장 주기 시 모든 "Should" 규칙 결혼 정보 회사 연결 시도의 나머지 부분에 대 한 계정에 더 이상 수행 됩니다. |

##### <a name="ranked-hopper"></a>순위 Hopper
일반적으로 SmartMatch 일치에서 차단 된 플레이어 수 없게 됩니다. 순위 Hopper를 선택 하는 경우이 논리는 큰 스킬 플레이어를 방지 하려면이 시스템을 사용 하 여 플레이어를 방지 하기 위해 무시 됩니다.

#### <a name="configuration-of-hopper-rules"></a>Hopper 규칙 구성

이 섹션을 hopper에 대 한 규칙을 구성 하는 데 필드를 정의 합니다.

###### <a name="common-rule-fields"></a>공통 규칙 필드

이 섹션에 정의 된 필드는 모든 hopper 규칙에 공통적으로 적용 합니다.

**규칙 이름**

구성 작업에 사용할 규칙에 대 한 표시 이름입니다.

**규칙 유형**

규칙 유형입니다. 옵션은 반드시 및 SHOULD입니다. 규칙에 성공적으로 결혼 정보 회사를 위해 충족 되어야 있어야 합니다. 해야 규칙 수 수 완화 및/또는 성공적으로 일치 하는 것을 제거 합니다. 이 프로세스에 대 한 자세한 내용은 구성의 해야 규칙 확장을 참조 하십시오.


**데이터 형식**

결혼 정보 회사 연결 규칙의 특성의 데이터 형식입니다. 가능한 값은 다음과 같습니다.   수입니다. 간단한 32 비트 숫자 값을 지정 합니다.
-   문자열입니다. 최대 128 자 유니코드 문자열을 지정 합니다.
-   컬렉션입니다. 문자열의 배열을 지정 합니다. 다운로드 가능한 콘텐츠 (DLC), 분 대 멤버 자격 또는 플레이어를 위해 역할 기본 식별할이 값을 사용 합니다.
-   서비스의 품질입니다. 결혼 정보 회사에 QoS 데이터 대기 시간을 포함 하는 것에 대 한 사용자 지정 데이터 형식을 지정 합니다. 이러한 규칙을 하나만 매 치메이 킹 hopper 당 사용 되어야 합니다.

| 참고 |
|----------|
| 이 제한은 제목에 대 한 문제가 있는 경우 개발자 계정 관리자에 문의 하세요. |

-   합계 값입니다. 제출 된 결혼 정보 회사 연결 값을 합산 하는 사용자 지정 데이터 형식을 지정 합니다. 특정 범위 내 결과 합계가 들어 되었거나 정확한 값이 되도록이 값을 사용할 수 있습니다.
-   팀입니다. 결혼 정보 회사 연결 요청에 포함 된 플레이어의 팀에 대 한 사용자 지정 데이터 형식을 지정 합니다. 플레이어 내 여러 팀 간에 단일 일치 항목 티켓을 분할 하지 않으려면이 값을 사용할 수 있습니다.


###### <a name="data-type-specific-rule-fields"></a>데이터 형식별 규칙 필드

이 섹션에서는 일부 데이터 형식은 아니라 다른 사용자가 적용 되는 규칙을 정의 하는 데 사용 하는 필드를 정의 합니다. UI 형식 특정 규칙을 적용 하는 데이터를 명확 하 게 있어야 합니다.

**와일드 카드를 허용 합니다.**

일치 티켓의 특성을 생략할 수 있습니다 하는 경우를 나타내는 값입니다. 생략 하는 경우 티켓을이 특성의 값에 관계 없이 다른 티켓와 호환 됩니다.


**특성 원본**

원본 데이터 형식 값입니다. 가능한 원본 다음과 같습니다.
- 제목을 제공 합니다. 데이터 값을 일치 티켓에 전송 됩니다.
-   사용자 상태 인스턴스입니다. 데이터 값 UserStatistics 서비스에서 자동으로 검색 됩니다.


**특성 이름**

이름 특성 값 원본입니다. 이 일치 티켓의 속성 이름 또는 사용자 통계의 이름입니다.


**기본값**

값이 지정 되었거나 결혼 정보 회사 연결 요청에 대 한 사용 가능한 경우 데이터 형식에 대 한 기본 값입니다. 기본 값을 허용 하는 와일드 카드 필드를 선택 하 고 값을 지정 하지 적용 되지 않습니다.


**Weight**

규칙의 중요도입니다. 가중치는 규칙은 매 치메이 킹 및 규칙 확장 하는 동안 우선 순위가 지정 됩니다 나타내는 데 사용할 수 있습니다. 가중치 값을 양수 여야 하 고 1로 설정 합니다.


**Flatten 메서드**

숫자 데이터 형식만 지원 됩니다. 일치 하는 항목을 충족 하기 위해 여러 값이 조합 된 여부를 나타내는 값입니다. 여러 티켓 및 티켓을 단일 일치 항목에서 다른 플레이어에 대 한 여러 값에 적용 됩니다. 가능한 값은:
-  Min/Max입니다. 다른 일치 티켓에서 여러 값의 최소값 또는 최대값 값을 사용 합니다.
-   평균입니다. 다른 일치 티켓에서 여러 값의 평균 값을 사용 합니다.


**Max Diff**

숫자 데이터 형식만 지원 됩니다. 규칙을 충족 하기 위해 두 비교 값 간의 최대 허용 가능한 숫자 차이입니다. SHOULD에 대 한 규칙을이 값은 규칙 확장에 대 한 시작점입니다.


**설정 작업**

컬렉션 데이터 형식에만 해당 합니다. 집합 값의 그룹을 일치 하는 데 작업입니다. 가능한 옵션은:
- 교차 합니다. 두 컬렉션 간의 교집합의 양을 기준으로 일치 합니다. 이 설정은 동일 하거나 유사한 컬렉션 값에서 발생합니다.
-   차이입니다. 두 컬렉션 간의 차이점의 양을 기준으로 일치 합니다.
-   역할 기본 설정 합니다. 역할 기반 게임 모드에서 플레이어의 역할에 대 한 기본 설정에 따라 컬렉션을 찾습니다.


**대상 교집합**

설정 작업 구성의 일부입니다. 최소한의 교집합 또는 전에 일치 하는 두 컬렉션에 대 한 최대 차이입니다.


**네트워크 토폴로지**

데이터 형식에만 서비스의 품질입니다. QoS에 사용 되는 네트워크 토폴로지. 가능한 값은 피어 투 피어 호스트 및 클라이언트/서버 피어


**최대 최대 대기 시간/크기 조정**  
데이터 형식에만 서비스의 품질입니다. 지정 된 네트워크 토폴로지 내에서 성공적으로 매 치메이 킹에 대 한 최대 대기 시간입니다. 이 값은 필요한 대기 시간) (반대 크기 조정 값으로 처리 경우 규칙은 서비스의 클라이언트-서버 품질을 사용 하 여 합니다.


| 참고                                                                                                                                                           |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 또한 기본 평판 규칙은 한 hopper에도 적용 됩니다. 이러한 규칙을 제거할 수 없습니다 및 결혼 정보 회사 연결 하는 동안 평판의 올바른 처리를 확인 하는 데 사용 됩니다. |


**역할에 대 한 대기를 허용 합니다.**

컬렉션 역할 기본 설정 데이터 입력만 합니다. 일치를 사용 가능한 모든 역할을 채우기 위해 매 치메이 킹 티켓을 보유 하는 경우를 지정 합니다.


###### <a name="expansion-delta"></a>확장 델타

각 확장 생성을 위해 제출 된 규칙을 완화 하도록 크기를 나타내는 값입니다. 확장 델타 최대 차이 값 외에도 적용 됩니다. 자세한 예제 1 (규칙 확장)를 참조 하세요.

또한 다른 속도로 여러 숫자 값을 확장 하려면 확장 델타를 사용할 수 있습니다. 확장 주기 구성 설정을 통해 모든 규칙에 적용 되기 때문에 불가능 합니다. 대신 10 진수 확장 값, 예를 들어, 0.4를 사용 하는 방법이입니다. 확장 된 새 정수에 도달 하면 서로 다른 확장 속도 확장 주기 만큼에 대해서도 허용 하는만 발생 합니다.


###### <a name="qos-expansion-peer-to-peer-peer-to-host"></a>QoS 확장 (피어 투 피어, 피어 및 호스트 간)
서비스 형식에 대 한 확장 피어 게임 품질에 대 한 확장 델타를 구성할 수 없습니다. 대신 다음 확장 전략 중 하나를 사용 해야 합니다.

<table>

<tr>

<tr>
<td>
<b>1. MaxLatency < 256.</b><p/><p/>

확장 MaxLatency에서 수행 됩니다 * 확장 주기입니다.<p/>
예를 들어, 초기 값이 200을 200에서 사용 되는 경우 첫 번째 주기, 두 번째 주기에서 400 등에입니다.
</td>
</tr>

<tr>
<td>
<b>2. MaxLatency > 256</b><p/><p/>

확장에서 50 MaxLatency-256 선형적으로 확장 됩니다.<p/>
예를 들어 556 초기 값을 사용 하는 경우 값을 선형으로 확장 50에서 300으로 주기 수입니다. 즉, 6 주기를 선택 했으면 다음 값 것 50, 100, 150, 200, 250 및 300입니다. 5 주기 선택 된 경우에 값을 50, 112.5, 175, 237.5, 및 300 것입니다.
</td>
</tr>

</tr>
</table>

##### <a name="qos-expansion-client-server"></a>QoS 확장 (클라이언트-서버)
전용된 서버를 사용할 때 확장 상대적 기본 설정을 기반으로 합니다. 만 대부분 서버 확장 주기 초기에 고려해 야는 것이 좋습니다. 시간이 지남에 따라 다른 기본 설정된 서버로 덜 사용 됩니다. 적절 한 확장을 위해 MaxLatency, 최대 확장을 호출 하는 것과 유사한 값이 필요 합니다. 이 크기 조정 최대 여전히에 설정할 최대 허용 ping 시간-이 값은 절대적인 요구 사항이 ping 시간을 제공 하는 대신 플레이어에서 제공 하는 다른 서버 ping 시간에 대해 상대 크기를 제공 하는 단, 합니다. 참고 요청 목록에서 제거 하 여 서버를 사용할 수 없는 ping 시간을 의도적으로 제외 될 수 있습니다.

#### <a name="example-1-rule-expansion"></a>예제 1 (규칙 확장)

플레이어의 수준을 결혼 정보 회사 연결, 사용 되 고 해당 수준 선택에 따라 플레이어 느슨하게, 일치 합니다. 최소한의 해당 수준 간의 차이 사용 하 여 플레이어는 것이 좋습니다.

-   플레이어 수준의 규칙
-   규칙 유형: 해야
-   데이터 형식: 번호
-   최대 차이: 1
-   확장 델타: 2
-   Flatten 메서드: 평균

기본적으로 필요한 차이 플레이어 수준 1 미만인 됩니다. 이 차이 내에서 일치 하는 경우 플레이어가 일치 합니다. 초기 일치 하는 항목이 없으면 플레이어 수준 값 (기본적으로 3 개 반복) 각 반복에 대해 2로 확장 됩니다. 이 시나리오를 결혼 정보 회사 연결 동작이 발생 수준 20, 플레이어 아래 표에 나와 있는 것 처럼 합니다.

| 단계                    | 잠재적인 일치 후보에 대 한 수준 값 | 성공한 일치 항목에 대 한 효과적인 수준 거리 |
|-----|
| 초기 값을 제출 | 19-21                                      | 1                                             |
| 확장 주기 1       | 17-23                                      | 3                                             |
| 확장 주기 2       | 15-25                                      | 5                                             |
| 확장 주기 3       | 13-27                                      | 7                                             |

확장 주기를 계속 해 서 최대 차이 값을 변경 하지 않고 일치 하는 항목에 대 한 효과적인 수준 거리 증가 합니다. 플레이어 수준 값만 완화 됩니다.


#### <a name="example-2-collection-rule"></a>예제 2 (수집 규칙)

게임은 플레이어를 위해 제공 되는 세 가지 유형의 DLC 해제 합니다. "DLC에만 해당" 게임 플레이 매 치메이 킹이 매 치메이 킹 규칙이 적용 되 고 다른 플레이어와 matchmade 되도록 하나 이상의 DLC을 소유 해야 하는 플레이어.

-   플레이어 DLC 규칙
-   규칙 유형: 해야 합니다.
-   데이터 형식: 컬렉션
-   작업을 설정 합니다. 교집합
-   대상 교집합: 1

플레이어는 해당 DLCs를 평가 하 고 해당 일치 티켓의 다음 표에 표시 된 값을 제출 합니다.

| 참고                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| 아래 표에서 컬렉션 값 DLC는의 소유권을 나타냅니다. DLC를 사용할 수 있는 경우 플레이어가 및 0 그렇지 않은 경우 1로 설정 됩니다. |

| 플레이어   | 컬렉션 값 | 플레이어를 사용 하 여 일치 | 참고           |
|----------|------------------|----------------------|----------------|
| 플레이어 1 | { "1", "1", "1"} | 3                    | 모든 DLCs 소유  |
| 플레이어 2 | { "0", "0", "0"} | 없음                 | 없는 DLC 소유    |
| 플레이어 3 | { "1", "0", "0"} | 1                    | 첫 번째 DLC 소유 |

예제에서 대상 교집합을 2로 설정 하는 경우 플레이어 1 및 3 일치 되지,의 교집합 1만 때문입니다.

#### <a name="example-3-avoid-previous-players"></a>예제 3 (하지 말고 이전 플레이어)
제목 선호 재생 가장 최근에 플레이어를 사용 하 여 게임을 방지 합니다.
* 규칙 유형: 해야 합니다.
* 데이터 형식: 컬렉션
* 작업을 설정 합니다. 차이점
* 대상 교집합: 0

## <a name="defining-team-rules-during-smartmatch-configuration"></a>SmartMatch 구성 하는 동안 팀 규칙을 정의합니다.

### <a name="configuring-team-rules"></a>팀 규칙 구성

팀에 규칙을 설정 하려면 선택한 구성 플랫폼 (XDP 또는 파트너 센터)에서 하나를 만들어 시작 합니다. 이 hopper 일치 티켓에서 만드는 게임에서는 팀 크기를 채웁니다. 예를 들어 게임에서 4v4 예상 하는 경우 만들어야 합니다 두 개의 항목을 다른 이름과 4는 각각의 최대 크기를 예상 합니다. 최소한 팀 규모 에서도-이 경우 사용할 팀에서 더 적은 플레이어를 사용 하 여 게임을 재생할 수 있습니다. 이 고, 그렇지 최소값 및 최대값에서 동일한 값 이어야 합니다.


#### <a name="using-team-rules"></a>팀 규칙을 사용 하 여

팀 규칙이 구성 되 면 분할 하지 않고도 해당 그룹 팀에 맞게 없으므로 하는 경우는 hopper 내 티켓 일치에서 차단 됩니다. 규칙 결과 팀 할당 대상 세션 멤버/상수/사용자 지정/matchmakingresult/initialTeam 아래에 작성 합니다. 이 단순히 제안된 된 할당-제목은 플레이어를 조정 하 여 발생할 수 있으므로 더 나은 게임을 여전히 다른 팀에 분할에서 티켓을 방지 하는 동안 찾을 수 있습니다.

진행 중인 게임에 대 한 티켓을 만들어지면 팀 규칙에는 추가 정보가 필요 합니다. 예를 들어 8 플레이어 4v4 두 게임 플레이어 드롭다운에서 기능은 끊어집니다 가정 합니다. 이러한 빈 스폿 맞게 제목 싶지만 게임을 재생 하는 동안에 팀을 재조정 수 없습니다.

"Always"로 PreserveSession 필드를 사용 하 여 티켓 시도가 진행 중인 게임에 맞게 표시 됩니다. 다음과 같은 경우에 있으므로 팀 플레이어에 이미 할당 된 제목을 지정 해야 현재 팀 할당 일치는 얼마나 많은 공백은 알 수 있도록 각 팀에 열려 있습니다. 팀의 이름을 제공 하려면 각 플레이어가 on으로 각 플레이어 게임 세션 멤버/me/속성/시스템/그룹으로 해당 팀 이름을 씁니다. 이 필드는 JArray는입니다.

위의 속성은 게임 세션에 기록 되 면 더 많은 플레이어를 찾지 못했습니다에 티켓을 세션에 대해 만듭니다는 단일 플레이어. 티켓을 충족 하는 경우 일치 하는 다시 씁니다 참여 모든 플레이어의 제안 된 팀 멤버/상수/사용자 지정/matchmakingresult/initialTeam


###### <a name="preferring-even-teams"></a>에 팀은 우선적으로 사용

또한 일치 됩니다 가장 큰 팀과 먼저 합니다. 이 의미 하는 가상 4v4 hopper에 4 명의 플레이어가의 티켓 일치 시킬 4의 티켓이 없는지 남을 때까지 함께 첫 번째입니다. 티켓 3 다음 계속 필요한 하며 등 단일 항목을 끌어오는 합니다. 이런 방식이으로 비슷한 크기의 티켓 존재 하 고 다른 규칙에 의해 방지 하지 않은 경우 메시지가 서로 대해 일반적으로 재생 됩니다. 다른 규칙을 통해 팀 규칙 상당히 강력한 우선 순위를 제공이 note 합니다. 예를 들어, 높은 skill(A) 사용 하 여 4 크기인 하나의 티켓만, 낮은 skill(B) 사용 하 여 4 크기인 하나의 티켓만 및 높은 skill(C-F) 크기 1의 네 가지 티켓의 제한 된 모집단을 있다고 가정 합니다. 팀 규칙 A와 B 일치 대신에 작업을 사용 하려면 일치 하면 C, D, E 및 6.


###### <a name="should-variant"></a>변형 해야

해야 규칙 티켓 모든 세대의 분할을 방지 하 고 정렬 prefer도 팀을 제공 합니다. 해야 규칙 동일-마지막으로 생성 될 때까지, 티켓을 분할할 수 있습니다, 면 prefer도 팀 정렬을 활성화 됩니다 계속 있지만.

## <a name="target-session-initialization-and-qos"></a>대상 세션 초기화 및 QoS

플레이어의 그룹을 일치 하는 대상 세션으로 SmartMatch 결혼 정보에 설명 된 대로 [SmartMatch 매 치메이 킹](/windows/uwp/xbox-live/multiplayer/multiplayer-appendix/smartmatch-matchmaking)합니다. 제목 충분 한 플레이어는 연결할 수 있는지 성공적으로 서로 필요할 경우 가입한 있는지 확인 하는 단계를 수행 해야 합니다. 이 프로세스는 대상 세션 초기화 이라고 합니다.

피어-투-피어 네트워크 토폴로지를 사용 하 여 게임에 대 한 대상 세션 초기화의 중요 한 측면은 QoS 측정 및 평가 합니다. 이와 관련 된 작업은 대기 시간 및 대역폭 Xbox One 콘솔 간의 콘솔 및 서버 간의 측정 및 적절 한 노드 간에 네트워크 연결 되는지 확인 하려면 결과 측정값의 계산입니다.

다음 순서도에서는 QoS 작업과 대상 세션의 초기화를 구현 하는 방법을 보여 줍니다.

![](../../images/multiplayer/Multiplayer_2015_Matchmaking_QoS.png)

### <a name="managed-initialization"></a>관리 되는 초기화

MPSD "관리 되는 초기화" 대상 세션 초기화 프로세스는 세션에 관련 된 클라이언트에서 조정 하는 기능을 지원 합니다. MPSD는 자동으로 세션에 대 한 연결된 시간 제한 및 초기화 단계를 추적 하 고 필요한 경우 클라이언트 간의 연결을 평가 합니다. 관리 되는 초기화가 나타내는 합니다 **MultiplayerManagedInitialization 클래스**합니다.

| 참고                                                                                                                  |
|------------------------------------------------------------------------------------------------------------------------------------|
| 것이 좋습니다 되려면 SmartMatch 결혼 정보 회사 연결을 사용 하 여 제목에는 MPSD 활용 초기화 기능을 관리 합니다. |


#### <a name="managed-initialization-episodes-and-stages"></a>관리 되는 초기화 에피소드 및 단계

대상 세션을 관리 되는 초기화를 결혼 정보 회사 연결 세션에 새 플레이어를 추가 하 든 지를 거칩니다. SmartMatch 예약, 즉 각 멤버는 슬롯 차지 있지만 세션에 아직 조인 되지 않은 사용자 상태로 세션 멤버를 추가 합니다. 각 그룹에 새 플레이어를 새로운 초기화 에피소드를 트리거합니다.

초기화를 완료 하면 각 플레이어 성공 하거나 실패 하는 프로세스입니다. 플레이어 초기화에 성공 하는 대상 세션을 사용 하 여 수행할 수 있습니다. 실패는 플레이어가 다른 세션에 일치 시킬 결혼 정보 회사 연결을 다시 제출 해야 합니다. 세션을 사용 하 여 매 치메이 킹을 제출한 경우에는 *preserveSession* MPSD 올바르게 설정 하 고 가정으로 세션의 기존 멤버 Always로 설정 하는 매개 변수에서는 초기화를 거치지 않고 합니다.

각 관리 되는 초기화 에피소드 다음이 단계로 구성 됩니다.

-   조인-세션 멤버 이동할 사용자 상태로 예약에서 활성 세션에 직접 작성 하 고 안전한 장치 주소 등의 기본 데이터를 업로드 합니다.
-   측정-피어 기반 토폴로지에 대 한 세션 멤버 QoS, 측정 및 세션에 결과 업로드 합니다.
-   평가-MPSD 마지막 두 단계의 결과 평가 하 고 세션 및/또는 멤버를 성공적으로 초기화 여부를 결정 합니다.

제목 코드에 참여 하 고 측정 단계를 각 사용자 (및 따라서 세션)를 진행 하려면 세션에서 작동 합니다. 그 다음 재생을 시작 하거나 평가 단계 성공 또는 실패 후 결혼 정보 회사 연결으로 다시 이동 합니다.


### <a name="configuring-the-target-session-for-initialization"></a>초기화에 대 한 대상 세션 구성

제목 초기화 되 고 대상 세션에서 상수를 사용 하는 관리 되는 초기화 프로세스를 구성할 수 있습니다. 이러한 상수는 버전 107, 권장 되는 템플릿 버전을 사용 하 여 세션 템플릿에서 /constants/system에서 설정 됩니다. 두 가지 유형의 구성 설정 지정할 수는 있습니다: QoS 요구 사항 구성 설정과 전체적으로 관리 되는 초기화 프로세스를 구성 하는 설정입니다. 참조 [MPSD 세션 템플릿을](multiplayer-session-directory.md) 일반적인 제목 시나리오에 대 한 세션 템플릿의 예입니다.

| 참고                                                                                                                              |
|------------------------------------------------------------------------------------------------------------------------------------------------|
| QoS 요구 사항 대상 세션 초기화 구성에 정의 되어 있지 않으면 초기화 하는 동안 측정 단계를 건너뜁니다. |


#### <a name="configuring-managed-initialization-as-a-whole"></a>전체 초기화를 관리 구성

다음은 전체 관리 되는 초기화를 제어 하기 위해 설정 하는 필드입니다. 일부인 /constants/system/memberInitialization 개체:
- joinTimeout. MPSD 초기화 에피소드 시작 된 후에 조인 하려면 각 멤버에 대해 대기 하는 시간을 지정 합니다. 기본값은 10 초입니다.
-   measurementTimeout. MPSD QoS 측정 결과 측정 단계 시작 된 후 업로드할 각 멤버에 대해 대기 하는 시간을 지정 합니다. 기본값은 30000 (초)입니다.
-   membersNeededToStart. 성공 하려면 첫 번째 초기화 에피소드에 대 한 초기화에 성공 해야 하는 구성원의 수를 지정 합니다. 기본값은 1입니다.

| 참고                                              |
|----------------------------------------------------------------|
| 이 임계값이 충족 되지 않으면, 모든 멤버는 초기화를 실패 합니다. |


#### <a name="configuring-qos-requirements"></a>QoS 요구 사항 구성

QoS 제목 피어-투-피어 또는 호스트 피어 간 토폴로지를 사용 하는 경우에 초기화 하는 동안 필요는 합니다. 각 토폴로지 /constants/시스템/아래에 있는 토폴로지 관련 상수를 매핑합니다.
###### <a name="configuring-qos-requirements-for-peer-to-peer-topology"></a>피어 투 피어 토폴로지에 대 한 QoS 요구 사항 구성

| 참고                                                                                                                                                                                         |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 피어 투 피어 토폴로지에 대 한 QoS 요구 사항 설정 타이틀에 대 한 거의 없습니다. 이러한 설정은 매우 제한적인 되며 엄격한 network address translation (Nat)를 사용 하 여 플레이어에 대 한 문제를 발생 합니다. |

피어 투 피어 토폴로지 QOS 요구 사항 peerToPeerRequirements 개체에서 설정 됩니다. 모든 클라이언트가 모든 다른 클라이언트에 연결할 수 있어야 합니다. 개체에는 다음 관련 필드에 있습니다.
-   latencyMaximum. 두 명의 클라이언트 사이의 최대 대기 시간을 지정합니다.
-   bandwidthMinimum 합니다. 두 클라이언트 간의 최소 대역폭을 지정합니다.


###### <a name="configuring-qos-requirements-for-peer-to-host-topology"></a>피어와 호스트 토폴로지에 대 한 QoS 요구 사항 구성

피어와 호스트 간 토폴로지 QOS 요구 사항 peerToHostRequirements 개체에서 설정 됩니다. 모든 클라이언트는 단일 공용 호스트에 연결할 수 있어야 합니다. 이 개체를 구성 하는 경우 초기화에 성공 하면 MPSD "호스트 후보의." 라고 하는 잠재적 호스트 된 클라이언트의 초기 목록을 만들어집니다. 필드를 설정 하는 다음과 같습니다.
-   latencyMaximum. 각 피어와 호스트 간에 최대 대기 시간을 지정합니다.
-   bandwidthDownMinimum. 각 피어와 호스트 간에 최소 다운스트림 대역폭을 지정합니다.
-   bandwidthUpMinimum. 각 피어와 호스트 간에 최소 업스트림 대역폭을 지정합니다.
-   hostSelectionMetric. 호스트를 선택 하는 데 사용 하는 메트릭을 지정 합니다.

## <a name="see-also"></a>참고 항목

[MPSD 세션 템플릿](multiplayer-session-directory.md)

[SmartMatch 런타임 작업](/windows/uwp/xbox-live/multiplayer/multiplayer-appendix/smartmatch-matchmaking)
