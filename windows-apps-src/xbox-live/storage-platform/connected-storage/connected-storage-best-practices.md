---
title: 연결 된 저장소 모범 사례
author: aablackm
description: 최상의 성능을 얻기 및 연결 된 저장소에서 경험 하는 방법에 대 한 권장 사항
ms.author: aablackm
ms.date: 02/27/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: xbox live, xbox, 게임, uwp, windows 10, xbox 하나 연결 된 저장소
ms.localizationpriority: medium
ms.openlocfilehash: 936b0333e826d3f9047a6905e7374e1ce9ec47ca
ms.sourcegitcommit: 49aab071aa2bd88f1c165438ee7e5c854b3e4f61
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 10/09/2018
ms.locfileid: "4472646"
---
# <a name="connected-storage-best-practices"></a>연결된 저장소 모범 사례

개발자는 논리적 그룹은 구식 저장을 작성 하는 대신 독립적으로 업데이트할 수 있는 데이터 저장 나눕니다. 따라서 타이틀을 모두 로컬 리소스 소비 감소 하는 다양 한 상황에서 작성 하는 데이터의 양을 줄이는 업로드 대역폭 사용량을 있습니다. API에는 또한 타이틀이 되는 완전히 성공 또는 적용 전혀 (예를 들어 치명적인 오류 중간 저장)의 경우 원자성 작업에서 둘 이상의 데이터 항목을 업데이트할 수 있습니다.

Xbox One 사용자가 신속 하 게 타이틀 간에 전환할 수, 있기 때문에 개발자가 거의 언제 든 지 발생할 수 있는 일시 중단 이벤트를 수신에 대비 하 여 짧은 통지를 저장할 준비가 현재 상태를 유지 하려면 제목을 디자인 해야 합니다. 짧은 동안 제목 쓰기 속도 극대화 하기 위해 저장소의 첫 번째 점으로 제목 예약 외부 RAM 연결 된 저장소 API 사용 기간을 일시 중단 합니다. 시스템이 다음 데이터 지 속성 저장소를, 마지막 업로드 이후 다른 데이터 쓰기를 사용 하 여 조정 및 데이터 업로드를 예약 합니다. 저장 후 업로드를 위해 대기 시스템은 네트워크 연결 손실이 나 전원 오류 등의 다양 한 오류 강력 합니다.

## <a name="when-to-load-a-users-connected-storage-space-data"></a>사용자의 연결 된 저장소 공간 데이터를 로드 하는 경우

사용자의 연결 된 저장소 데이터 공간 로드 실행 시간이 달라질 수 있습니다. 앱에서 로그 아웃 하는 사용자의 시작에 대 한 응답 또는 시스템에서 일시 중단 알림을 수신할에서 아니라 주 실행 중이 작업을 수행 해야 합니다.
연결 된 저장소 공간 사용자가 로그인 하 고 원하는 나타냅니다 앱은 일반적으로 로드에 특정 아니오 저장 기능이 모드 게임이 하지 않는 한 재생 하는 데 필요 합니다. 또한 고려해 야 긴 일련의 데이터 로드를 사용 하 여 로드 되는 연결 된 저장소 공간 정렬 작업을 병렬로 실행할 수 있도록 합니다.
앱에서 사용자의 연결 된 저장소 공간 데이터 로드 되 면 향후 저장에 대 한이 값을 유지 해야 합니다. 시간이 지남에 따라 연결 된 저장소 공간 유지 성능 또는 안정성에 부정적인 영향 되지 않았습니다. 시스템은 온라인를 해제 하 고 느린 하는 동안 사용자의 연결 된 저장소 공간을 다시 로드 하거나 불안정 한 네트워크 조건으로 인해 사용자에 게 동기화 UI 표시 될 수 있습니다 클라우드와 동기화 검사 인해 연결 된 저장소 공간을 로드 합니다. 시스템 시간이 초과 될 때까지 연결 저장소 공간 클라우드 동기화를 명시적으로 해제 될 필요가 없습니다. 한 번에 지정 된 완료 처리기는 `SubmitUpdatesAsync` 호출으로 반환 `AsyncStatus::Completed`, 시스템 개발자 대신 수행해 클라우드와 동기화 앱 해제 여부는 `ConnectedStorageSpace` 개체입니다.

## <a name="when-to-save"></a>저장 하는 경우

앱이 일시 중단 알림을 수신할 때마다 앱을 사용자에 대 한 적절 한 연관성이 상태로 되돌리려면 시스템을 사용 하도록 설정 하는 관련 데이터를 이상 저장 해야 합니다.

정기, 자동, 게임 디자인 사용 하거나 사용자가 시작한 저장, 연결 된 저장소를 일시 중단 알림을;을 받을 때 보다 더 자주 호출할 수 있습니다. 이렇게 하면 이므로 카메라 정전 또는 손상으로 인해 데이터 손실 위험을 줄이는 것입니다.
사용자가 로그 아웃 하 고 해당 사용자에 대 한 사용자 개체 유효 해당 시간에 앱을 수행할 수 최종 XDK 사용 하 여 게임을 개발 하는 경우 연결 된 저장소를 사용 하 여 작업을 저장 합니다.

## <a name="robustness"></a>견고성

저장 된 데이터는 클라우드에서 동기화 항상, 저장 된 데이터 및 앱 충돌 하는 앱 코드에서 버그를 클라우드에 백업 있으며 장치에 분산 될 수 있습니다. 사용자가 모든 실행에 충돌 하는 앱에 필요 하지 못하도록 되도록 앱을 디자인 합니다.

-   일부 저장 된 데이터를 조작 하는 경우에 사용자가 저장 된 상태를 관리할 수 있는 앱의 특정 시점에 연결할 수 있습니다.
-   앱으로 많은 데이터를 복구 하 고 다시 초기화를 안전한 상태로 다른 모든 손상 된 데이터를 자동으로 처리할 수 있습니다.

## <a name="use-cases-for-save-game-designs"></a>저장 게임 디자인에 대 한 사용 사례

연결 된 저장소 공간에서 컨테이너를 효과적으로 사용 하는 시스템에 저장 하는 게임의 디자인은 앱의 유형에 따라 다릅니다.

### <a name="single-save"></a>단일 저장

캠페인 스타일을 하나만 사용 하는 앱에 대 한 첫 번째 사람 슈팅 같은 시스템을 저장 합니다.

-   모든 데이터를 단일 컨테이너에 배치 하 고 항상 동일한 컨테이너 이름으로 식별에 작성 합니다.
-   처음부터 앱 유지 되 고 이전 진행 없는 재생을 시작 하려는 경우 모든 사용자의 저장 된 데이터는 선택을 취소 하는 모든 데이터를 다시 설정 하는 옵션을 표시 하는 것이 좋습니다.

### <a name="multiple-saves"></a>여러 저장

저장 슬롯 보겠습니다 어조 5의 고정된 수 있는 앱의 경우 컨테이너를 사용 하 여 게임 데이터를 저장 하는 방법은 두 가지가 있습니다.

-   각 저장 슬롯 1 blob을 사용 하 여 하나의 이름이 고정 된 컨테이너 내에서 모든 5 슬롯을 저장 합니다. 모든 5 슬롯 완벽 하 게 동기화 하 고 사용할 수 있으며, 또는, 언제 든 지 동기화가 실패 하는 경우, none 슬롯 동기화 됩니다 및 남습니다.이 메서드를 사용 하 여 이전 상태로 합니다. 사용자 데이터에 Xbox Live;에 모두 콘솔 연결 유지를 선택 해야 사용자 재생 저장 하 고 슬롯 1에서에서 슬롯 2와 첫 번째 콘솔에서 두 번째 콘솔에 두 개의 다른 콘솔에서 오프 라인으로 앱을 하는 경우 컨테이너에 대 한 병합 논리 충돌이 발생 합니다.
-   각 슬롯 고유한 이름으로 컨테이너에 저장 합니다. 이 오프 라인 않을 수 있는 여러 컴퓨터에도 각 슬롯에 독립적인 진행률 수 있습니다. 그러나 사용자가 동기화를 통해 이전 취소, 로드가 일부 슬롯을 사용할 수 있도록 해당 세션; 컨테이너의 일부 하지 완료 했을 수를 다운로드 합니다. 이러한 경우 사용자가 로컬 콘솔에 없는 일부 클라우드 데이터와 동기화가 완료 되었다는 알림이 제공 됩니다.

어떤 방식의 사용 하는 앱 슬롯에서 개별 저장을 삭제 하는 UI 사용 하 여 사용자를 제공 해야 합니다.

### <a name="warning"></a>Warning

**컨테이너 간에 종속 데이터를 저장 하지 않습니다.** 둘 이상의 컨테이너 간에 종속성을 사용 하 여 데이터를 저장 하지 않습니다. 불완전 한 동기화, 전원 손실, 또는 기타 오류 조건으로 인해 컨테이너를 분리할 수 있습니다. 단일 컨테이너에 저장 된 데이터 스페이스인 되 고 일관성이 되어야 합니다.

### <a name="tips"></a>팁

**사용자가 콘솔을 해제 하거나 떨어져 탐색 하지 못하게 하지 않습니다.** 타이틀 하지 않는 것 보다 사용자가 콘솔을 해제 하거나 저장할 때 앱에서 다른 페이지로 이동 합니다. Xbox 360에서 사용자가 타이틀을 저장 하는 동안 시스템을 해제 하는 경우 사용자의 데이터 저장 되지 않습니다. Xbox One에서 타이틀을 일시 중단 이벤트를 받아 상태를 저장 하는 연결 된 저장소 API를 사용 하 여 1 초에 합니다. 시스템은 완전히 종료 또는 절전 상태를 입력 하기 전에 데이터를 제대로 하드 드라이브 하기 위해 최선을 다하고 보장 합니다. 동일한 일시 중단 프로세스는 사용자가 나오면 타이틀의 디스크를 다른 재생 발생 합니다.

**연결 된 저장소 공간을 유지 합니다.** 읽기 또는 쓰기 이벤트가 발생 될 때마다이 로드 하려고 시도 하지 않고 ConnectedStorageSpace 개체를 유지 합니다. 성능 또는 오랫동안 ConnectedStorageSpace 개체를 유지 하 여 발생 하는 안정성에 부정적인 영향을 미치지 있습니다.

**데이터 크기를 작게 유지 합니다.** 저장 된 데이터의 크기를 작게 유지 합니다. 콘솔 온라인 상태일 때 연결 된 저장소의 모든 사용자 데이터 클라우드로 업로드 됩니다. 데이터 형식을 최소 연기 하 고 대역폭 사용을 최적화 합니다.

**사용자가 저장 하지 않고 괜찮은 있는지 확인 합니다.** GetForUserAsync과 SubmitUpdatesAsync, 및 사용자가 쿼리를 실제로 저장 하지 않고 재생 하려는 경우에서 반환 된 OutOfLocalStorage 오류를 확인 합니다. 사용자가 게임을 저장 하려는 경우, 작업을 다시 시도 합니다.

**사용자의 할당량 및 공간을 확보 프롬프트를 확인 합니다.** SubmitUpdatesAsync 반환한 QuotaExceeded 오류를 확인 합니다. 앱이이 메시지를 수신 하는 경우 사용자에 게 알릴 공간을 확보 했으면 있으며 이렇게 수 있도록 UI를 사용 하 여 체인을 제공할 때까지 모든 더 많은 데이터를 저장할 수 없습니다. 각 사용자 앱 당 데이터의 256 또는 64 MB 가져오고 각 XDK 타이틀은 콘솔에 로컬 컴퓨터 당 저장소의 가져옵니다.

**복원 나중에 맞는 메뉴의 상태를 저장 합니다.** 메뉴 상태 및 핵심 게임 데이터를 저장 하는 것 외에도 다른 앱 설정을 저장 합니다. 사용자가 다른 앱을 재생을 다음 돌아오면 찾으려고, 메뉴 연관성이 적절 한 상태를 복원 합니다.
사용자 로그인 변경에 응답 합니다. 앱 일시 중단 된 동안 사용자가 로그 아웃 수 있습니다. 앱을 다시 시작, 로그인 사용자의 집합 변경 되었는지 확인 해야 것입니다. 이 경우 메뉴를 등의 앱 내에서 적절 한 위치를 탐색 하는 것이 좋습니다.

**저장 된 데이터를 관리 하기 위한 UI를 제공 합니다.** 앱은 사용자가 앱 내에서 저장 된 데이터를 관리할 수 있도록 하는 UI를 제공 해야 합니다. 자동 저장 시스템을 사용 하 여 앱을 앱에는 기본 재생 상태를 다시 설정 하려면 사용자가 저장 된 데이터를 다시 설정 하는 옵션을 제공 해야 합니다.

**사용자가 저장 된 게임을 관리 하는 UI에 항상 연결할 수 있는지 확인 합니다.** 앱 데이터를 저장 하는 버그 있어도 저장 된 게임에 대 한 관리 UI에 항상 연결할 수 있는지 확인 합니다. 사용자의 저장 된 데이터는 응용 프로그램 버그 또는 데이터 손상으로 인해 읽을 수 없게 되 면 앱 크래시가 발생 하거나 재생을 금지 하지 않는 상태로 복구 하려면 사용자를 허용 해야 합니다.