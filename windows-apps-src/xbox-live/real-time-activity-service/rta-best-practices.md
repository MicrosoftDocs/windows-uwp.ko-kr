---
title: RTA 모범 사례
author: KevinAsgari
description: Xbox Live 실시간 알림에 서비스를 사용 하는 경우 모범 사례에 알아봅니다.
ms.assetid: 543b78e3-d06b-4969-95db-2cb996a8bbd3
ms.author: kevinasg
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live, xbox, 게임, uwp, windows 10, 하나는 xbox, 실시간으로 활동
ms.localizationpriority: medium
ms.openlocfilehash: 60a049436bb04d8ad2c66582492977f9637bcf5d
ms.sourcegitcommit: 70ab58b88d248de2332096b20dbd6a4643d137a4
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/02/2018
ms.locfileid: "5941982"
---
# <a name="real-time-activity-rta-best-practices"></a>실시간으로 활동 (RTA)에 대 한 유용한 정보
이러한 모범 사례는 타이틀의 활용 RTA 최대한 활용해 보세요 해야 하는 데 도움이 됩니다.


## <a name="the-basics"></a>기본 사항

RTA는 WebSocket 세션을 사용 하 여 클라이언트를 사용 하 여 영구 연결을 만듭니다. 서비스를 통계는 제공 하는 방법입니다. RTA 요청에 제공 되는 토큰을 사용 하 여 연결을 만들 수 있으며 다음이 설정 확인을 클라이언트 인증 된 연결 요청을 보낼 해야 합니다.

연결을 설정한 후 앱 특정 통계를 구독에 대 한 요청을 만들 수 있습니다. 성공적으로 가입, RTA는 현재 값 및 응답 페이로드의 일부로 통계 유형의 같은 몇 가지 추가 메타 데이터를 반환 합니다. 그런 다음 RTA 클라이언트는 구독 하는 동안 통계에 발생 하는 모든 업데이트를 전달 합니다.

타이틀 통계에 대 한 실시간 업데이트에서는 때 해당 통계 해당 구독을 종료 되어야 합니다.


## <a name="handling-disconnects"></a>연결을 끊습니다 처리

타이틀은 사용자에 대 한 인증 토큰이 만료 되 면 해당 세션 서비스에서 종료 됩니다 알고 있어야 합니다. 제목 이러한 이벤트가 발생 하는 시기를 감지할 수, 다시 연결 하 고 다시를 이전에 등록 된 모든 통계에 가입 해야 합니다.

2 시간 후에 다시 연결 클라이언트를 강제로 발생 하는 기본적으로 RTA 연결이 닫힙니다. 연결에 대 한 인증 토큰 메시지 대역폭을 절약 하기 위해 캐시 되므로 수행 됩니다. 결국 해당 토큰이 만료 됩니다. 연결을 닫고 다시 연결 클라이언트를 강제로 클라이언트 인증 토큰을 새로 적용 됩니다.

클라이언트 인해 문제가 발생 하는 사용자의 ISP 또는 제목에 대 한 프로세스는 일시 중단 연결이 끊어지는 수 있습니다. 이런 경우 클라이언트에 알려야 하는 WebSocket 이벤트가 발생 합니다. 가장 일반적으로를 처리 하는 연습 서비스에서 연결을 끊습니다.

> [!WARNING]
> 클라이언트를 RTA 멀티 플레이 세션에 대 한 사용 30 초 동안 연결이 [멀티 플레이 세션 Directory(MPSD)](../multiplayer/multiplayer-appendix/multiplayer-session-directory.md) RTA 세션을 닫히고 사용자 세션에서 진행을 감지 합니다. 여 연결이 닫힐 때 검색 하 고 다시 연결을 시작 하 고,는 MPSD 세션을 종료 하기 전에 다시 RTA 클라이언트에 됩니다.

## <a name="managing-subscriptions"></a>구독 관리

토큰이 만료 될 때 구독 관리와 관련 하 여 타이틀 추적할지 전혀 구독 변경 된 시간입니다. 성공적으로 가입 시 RTA 각 구독된 통계에 대 한 고유 식별자를 반환 합니다. 해당 통계 모든 향후 업데이트에서 식별자 통계의 이름 대신 사용 됩니다. 대역폭을 저장 하도록 수행 됩니다. 클라이언트는 자신의 매핑을 통계 RTA 구독 Id 유지 관리를 담당 합니다.


## <a name="unsubscribing"></a>구독 취소

하지 않는 구독 권장 되지 않습니다. 서비스 제한 구독 사용자 지정된 된 시간에 제목 당 있을 수 있습니다. 모든 및 항목에 가입 하는 경우 해당 제한 발생할 수 및이 몇 가지 중요 한 통계를 구독 하지 못할 수 있습니다. (구독 제한에 대 한 자세한 내용은 참조 **에서**,이 항목의 뒷부분에.)

예를 들어, 타이틀 특정 장면에 대 한 구독을 하기만 수 있습니다. 사용자가 해당 장면 입력, 타이틀 구독 해야 합니다. 사용자는 장면을 떠날 때 이러한 통계 구독 해야 수 있습니다. 마찬가지로, 구독 필요한 경우 사용할 수 있는 모든 구독 취소 메시지가 있습니다.

구독을 취소 한 후 해당 통계에 대 한 구독 식별자 더 이상 사용 됩니다.


## <a name="awareness-of-latent-items-in-the-queue"></a>큐의 숨은 항목 인식

통계에서 구독을 취소할 때 클라이언트에 도달 하는 과정에서 여전히 통계에 대 한 업데이트는 가능한 것입니다. 따라서 타이틀에 방금 통계에서 구독 취소를 하는 경우에 유의 업데이트 또는 해당 통계와 관련 된 두 개의 가져오기 계속 될 수 있습니다.

구독 id를 인식할 수 없을 때 통계에 대 한 업데이트를 무시 하는 것이 좋습니다.


## <a name="ignore-messages-you-do-not-understand"></a>이해 하지 못하는 메시지를 무시 합니다.

메시지 프로토콜은 업데이트 다운로드 가능 합니다. 앱에 새 메시지의 독립적인 유지 하려면 제목에 간단 하 게 알 수 없는 메시지 형식을 취소 하는 것이 좋습니다.


## <a name="throttles"></a>스로틀

RTA는 서비스에서 특정 스로틀 적용합니다.

-   UserStats: 1000
-   상태: 2500

클라이언트가 중 하나는 제한을 subscribe/등록 취소 호출의 일부로 오류가 발생 하거나 연결이 끊어집니다. 두 경우 모두 적중 된 제한 제한에 대 한 자세한 내용은 오류 메시지와 함께 클라이언트에 사용할 수 하거나 메시지를 분리 합니다.

타이틀을 개발 하는 경우 이러한 개념 사항에 유의 해야 합니다. 극단적인 작업을 수행 하는 경우에 서비스에 대 한 호출은 제한 될 수 있으므로 저하 앱 환경이 있을 수 있습니다. 이제 오른쪽 서비스 응용 프로그램의 인스턴스당 통계 1000 구독을 허용 합니다. 에 또한에 응용 프로그램의 인스턴스 상태 업데이트에 대 한 사용자의 전체 사용자 목록 길이 구독할 수도 수 있습니다. 이 숫자 릴리스를 나중에 변경할 수 조정 되 고 됩니다.
