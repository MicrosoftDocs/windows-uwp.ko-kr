---
title: 가장 가까운 점 샘플링
description: 응용 프로그램에서는 텍스처 필터링을 사용하지 않아도 됩니다.
ms.assetid: D7F88320-2C61-47E9-9B92-EC31D48DB079
keywords:
- 가장 가까운 점 샘플링
ms.date: 02/08/2017
ms.topic: article
ms.localizationpriority: medium
ms.openlocfilehash: 18703a75747e09436e7938e1229dda09cd457fa5
ms.sourcegitcommit: a3dc929858415b933943bba5aa7487ffa721899f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 12/07/2018
ms.locfileid: "8798328"
---
# <a name="span-iddirect3dconceptsnearest-pointsamplingspannearest-point-sampling"></a><span id="direct3dconcepts.nearest-point_sampling"></span>가장 가까운 점 샘플링


응용 프로그램에서는 텍스처 필터링을 사용하지 않아도 됩니다. Direct3D가 종종 정수로 평가되지 않는 텍셀 주소를 계산한 다음 가장 가까운 정수 주소로 텍셀 색상을 복사하도록 설정하는 방법도 있습니다. 이 프로세스를 *가장 가까운 점 샘플링*이라고 합니다. 화면에서 텍스쳐 크기가 원형의 이미지 크기와 비슷한 경우, 가장 가까운 점 샘플링은 가장 빠르고 효율적인 텍스처 처리 방법이 될 수 있습니다. 그렇지 않은 경우, 텍스처를 확대하거나 축소해야 합니다. 텍스처 크기가 원형 이미지 크기에 일치하지 않으면 이미지가 두툼해지거나 앨리어싱 효과가 나타나거나 흐리게 표시될 수 있습니다.

가장 가까운 점 샘플링은 텍스처가 두 텍셀의 경계에서 샘플링될 때 가끔 이미지에서 불필요한 부분을 유발할 수 있기 때문에 신중하게 사용해야 합니다. 텍스처(u 또는 v)를 따라 나 있는 이 경계에서 샘플링된 텍셀이 한 텍셀에서 다음 텍셀로 전환합니다. 점 샘플링을 사용하면 시스템이 샘플 텍셀을 이것 저것 선택하는데, 경계를 넘나들므로 그 결과는 한 텍셀에서 다음 텍셀로 갑자기 변할 수 있습니다. 이러한 효과는 표시된 텍스처에서 이미지 상의 불필요한 부분으로 예기치 않게 나타날 수 있습니다. 선형 필터링을 사용하는 경우, 인접한 두 텍셀을 계산하여 그 결과로 얻은 텍셀은 텍스처 인덱스가 경계를 통과할 때 두 텍셀과 매끄럽게 혼합됩니다.

이 효과는 아주 큰 다각형에 아주 작은 텍스처를 매핑할 때 볼 수 있는데, 이 작업을 '확대'라고 합니다. 예를 들어 체스판 모양의 텍스처를 사용하면 가장 가까운 점 샘플링은 가장자리가 뚜렷이 표시되는 큰 체스판 모양을 만듭니다. 이와 대조적으로, 선형 텍스처 필터링은 체스판 색이 다각형 전체에 걸쳐 매끄럽게 변화하는 이미지를 만듭니다.

대부분의 경우 응용 프로그램은 가능한 한 가장 가까운 점 샘플링을 피하여 최상의 결과를 얻습니다. 오늘날 대부분의 하드웨어는 선형 필터링에 최적화되어 있으므로 응용 프로그램이 성능 저하를 겪지 않습니다. 텍스처를 사용하여 읽을 수 있는 텍스트 문자를 표시하는 것과 같이 원하는 효과를 얻기 위해 가장 가까운 점 샘플링이 필요한 경우, 예기치 않은 효과를 가져올 수 있는 텍셀 경계 샘플링이 응용 프로그램에서 발생하지 않도록 방지하기 위해 각별히 주의해야 합니다. 다음 그림은 이러한 이미지 상 불필요한 부분의 예를 보여줍니다.

![6개 구역 중에 오른쪽 위 두 사각형 안에 비연속 가로줄이 있는 그림](images/ptrtfct.png)

사각형 그룹의 오른쪽 위에 있는 두 사각형은 사선 오프셋이 있어 이웃한 사각형과 다르게 보입니다. 이와 같은 이미지 상 불필요한 부분을 방지하려면 가장 가까운 지점 필터링에 관한 Direct3D 텍스처 샘플링 규칙을 잘 알고 있어야 합니다. Direct3D는 \[0.0, 1.0\](0.0부터 1.0까지) 범위의 부동 소수점 텍스처 좌표를 \[-0.5, n -0.5\] 범위의 정수 텍셀 공간에 매핑합니다. 여기에서 n은 텍스처에서 지정된 차원의 텍셀 개수입니다. 그 결과 얻게 되는 텍스처 인덱스는 근사치의 정수로 반올림됩니다. 이 매핑은 텍셀 경계에서 샘플링 오류를 유발할 수 있습니다.

간단한 예로 텍스처 주소 지정 모드 래핑으로 다각형을 렌더링하는 응용 프로그램이 있다고 가정해봅시다. u 텍스처 인덱스는 Direct3D가 사용하는 매핑을 사용하여, 너비가 텍셀 4개에 해당하는 텍스처를 나타내는 다음 그림에 표시된 것처럼 매핑합니다.

![텍셀 사이의 경계에 있는 텍스처 좌표 0.0 및 1.0의 그림](images/ptsmpprb.png)

이 그림의 텍스처 좌표 0.0 및 1.0은 정확히 텍셀 간 경계에 있습니다. Direct3D가 값을 매핑하는 데 사용하는 메서드를 사용하는 이 텍스처 좌표는 \[-0.5, 4 -0.5\]의 범위에 있습니다. 여기에서 4는 텍스처의 너비입니다. 이 경우 샘플링된 텍셀은 1.0의 텍스처 인덱스에 대해 0 텍셀입니다. 그러나 텍스처 좌표가 1.0보다 약간 작은 경우, 샘플링된 텍셀은 0 텍셀이 아닌 n 텍셀일 것입니다.

이는 화면-공간 정렬 삼각형에서 가장 가까운 점 필터링으로 정확하게 0.0 및 1.0의 텍스처 좌표를 사용하여 작은 텍스처를 확대하면 텍스처 맵이 텍셀 사이 경계에서 샘플링되는 픽셀이 생긴다는 것을 뜻합니다. 텍스처 좌표 계산 오류는 아무리 작은 것이라 하더라도 텍스처 맵의 텍셀 가장자리에 해당하는 렌더링 이미지의 영역을 따라 불필요한 부분을 발생시킵니다.

부동 소수점 텍스처 좌표를 완벽한 정확도로 정수 텍셀에 매핑하는 것은 까다롭고 계산하는 데 시간이 많이 걸리며 일반적으로 필요하지 않은 작업입니다. 대부분의 하드웨어 구현에서는 삼각형 내 각 픽셀 위치의 텍스처 좌표를 계산하기 위해 반복 접근 방식을 사용합니다. 반복 접근 방식은 반복 중에도 오류가 균일하게 누적되므로 이러한 오류를 숨기는 경향이 있습니다.

Direct3D 참조 래스터라이저는 각 픽셀 위치의 텍스처 인덱스를 계산하기 위해 직접 평가 방식을 사용합니다. 직접 평가는 작업 중에 발생하는 모든 오류는 더 많은 임의 오류 분포를 나타낸다는 점이 반복 접근 방식과 다릅니다. 이로 인한 결과는 참조 래스터라이저가 완벽한 정확도로 이 작업을 수행하지 않기 때문에 경계에서 발생하는 샘플링 오류가 더 많이 눈에 띌 수 있다는 것입니다.

최선의 접근 방식은 필요한 경우에만 가장 가까운 점 필터링을 사용하는 것입니다. 사용하지 않을 수 없는 경우에는 경계 위치에서 약간 텍스처 좌표를 오프셋하여 불필요한 부분을 방지하는 것이 좋습니다.

## <a name="span-idrelated-topicsspanrelated-topics"></a><span id="related-topics"></span>관련 항목


[텍스처 필터링](texture-filtering.md)

 

 




