---
title: RTA 모범 사례
author: KevinAsgari
description: Xbox Live 실시간 알림에 서비스를 사용 하는 경우 모범 사례에 알아봅니다.
ms.assetid: 543b78e3-d06b-4969-95db-2cb996a8bbd3
ms.author: kevinasg
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live, xbox, 게임, uwp, windows 10, 하나는 xbox, 실시간으로 활동
ms.localizationpriority: medium
ms.openlocfilehash: 60a049436bb04d8ad2c66582492977f9637bcf5d
ms.sourcegitcommit: 93c0a60cf531c7d9fe7b00e7cf78df86906f9d6e
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 11/23/2018
ms.locfileid: "7556428"
---
# <a name="real-time-activity-rta-best-practices"></a>실시간으로 활동 (RTA)에 대 한 유용한 정보
이러한 모범 사례는 RTA 타이틀의 사용을 최대한 활용 하는 데 도움이 됩니다.


## <a name="the-basics"></a>기본 사항

RTA는 WebSocket 세션을 사용 하 여 클라이언트를 사용 하 여 영구 연결을 만듭니다. 서비스를 통계는 제공 하는 방법입니다. 클라이언트 인증된 연결 요청을 보내려면 하며 RTA 요청에 제공 된 토큰을 사용 하 여 확인 연결 구성할 수 있으며 설정 합니다.

연결이 설정 되 면 앱 특정 통계에 구독에 대 한 요청을 만들 수 있습니다. 성공적으로 가입 RTA는 현재 값과 형식의 응답 페이로드의 일부로 통계와 같은 몇 가지 추가 메타 데이터를 반환 합니다. 그런 다음 RTA 클라이언트를 구독 하는 동안 통계에 발생 하는 모든 업데이트를 전달 합니다.

타이틀 통계에 대 한 실시간 업데이트에서는 해당 통계에 해당 구독을 종료 해야 합니다.


## <a name="handling-disconnects"></a>처리 연결을 끊습니다.

타이틀은 사용자에 대 한 인증 토큰이 만료 되 면 해당 세션 서비스에서 종료 됩니다 알고 있어야 합니다. 제목 이러한 이벤트가 발생 하는 시기를 감지할 수 다시 연결 하 고 다시를 이전에 등록 된 모든 통계에 가입 해야 합니다.

2 시간 후에 다시 연결 클라이언트 새로 고쳐집니다 설계상 RTA 연결이 닫힙니다. 연결에 대 한 인증 토큰 메시지 대역폭을 절약 하기 위해 캐시 되므로 수행 됩니다. 결국 해당 토큰이 만료 됩니다. 연결을 닫고 다시 연결 클라이언트를 강제로 클라이언트 인증 토큰을 새로 고칠 적용 됩니다.

클라이언트 인해 문제가 발생 하는 사용자의 ISP 또는 제목에 대 한 프로세스는 일시 중단 끊을 가져오기 없습니다. 이 경우 클라이언트에 알려야 하는 WebSocket 이벤트가 발생 합니다. 가장 일반적으로를 처리 하는 서비스에서 연결을 끊습니다.

> [!WARNING]
> RTA를 사용 하 여 멀티 플레이 세션에 대 한 클라이언트에 30 초 동안 연결이 끊어진 경우 [멀티 플레이 세션 Directory(MPSD)](../multiplayer/multiplayer-appendix/multiplayer-session-directory.md) RTA 세션 닫혀 있고 잠그거나 세션에서 사용자를 검색 합니다. RTA 클라이언트에 연결이 닫힐 때 검색 하 고 다시 연결을 시작 하 고,는 MPSD 세션을 종료 하기 전에 다시 됩니다.

## <a name="managing-subscriptions"></a>구독 관리

토큰이 만료 될 때 구독 관리와 관련 하 여 타이틀 추적할지 전혀 구독 변경 된 시간입니다. RTA는 성공적으로 가입 시 각 구독된 통계에 대 한 고유 식별자를 반환 합니다. 모든 해당 통계 향후 업데이트에서 식별자 통계 이름 대신 사용 됩니다. 대역폭을 절약 하기 수행 됩니다. 클라이언트는 자신의 매핑을 통계 RTA 구독 Id 유지 관리를 담당 합니다.


## <a name="unsubscribing"></a>구독 취소

하지 않는 구독 권장 되지 않습니다. 서비스 제한 구독 사용자 지정 된 시간에 제목 당 있을 수 있습니다. 모든 및 항목에 가입 하는 해당 제한 발생할 수 및이 몇 가지 중요 한 통계를 구독 하지 못할 수 있습니다. (구독 제한에 대 한 자세한 내용은 참조 **에서**,이 항목의 뒷부분에.)

예를 들어, 타이틀 특정 장면에 대 한 구독을 하기만 수도 있습니다. 사용자가 해당 장면 입력, 타이틀 구독 해야 합니다. 사용자가 해당 장면을 떠날 때 이러한 통계 구독 해야 수 있습니다. 마찬가지로, 구독 필요한 경우 사용할 수 있는 모든 구독 취소 메시지가 됩니다.

구독을 취소 한 후 더 이상 해당 통계에 대 한 구독 id는 사용 됩니다.


## <a name="awareness-of-latent-items-in-the-queue"></a>큐의 숨은 항목의 인식

통계에서 구독을 취소할 때에 클라이언트에 도달 하는 과정에서 여전히 통계에 대 한 업데이트 수입니다. 따라서 타이틀 통계에서 구독 취소 방금 했으면, 경우에 유의 업데이트 또는 해당 통계와 관련 된 두 개의 가져오기 계속 될 수 있습니다.

구독 id를 인식할 수 없을 때 통계에 대 한 업데이트를 무시 하는 것이 좋습니다.


## <a name="ignore-messages-you-do-not-understand"></a>이해 하지 못하는 메시지를 무시 합니다.

메시지 프로토콜은 업데이트 되지 것 같습니다. 앱의 모든 새 메시지의 독립적인을 유지 하기 위해 타이틀 간단 하 게 알 수 없는 메시지 종류를 취소 하는 것이 좋습니다.


## <a name="throttles"></a>스로틀

RTA는 서비스에서 특정 스로틀 적용합니다.

-   UserStats: 1000
-   상태: 2500

클라이언트는 하거나 제한을 적중 subscribe/등록 취소 하는 호출의 일부로 오류가 발생 하거나 연결이 끊어집니다. 두 경우 모두 적중 된 스로틀 제한에 대 한 자세한 내용은 클라이언트 오류 메시지와 함께 사용할 수 하거나 메시지를 분리 합니다.

타이틀을 개발 하는 경우 이러한 개념 사항에 유의 해야 합니다. 큰 값을 수행 하는 경우에 서비스에 대 한 호출 제한 수 있으므로 저하 앱 환경을 할 수 있습니다. 이제 오른쪽 서비스 응용 프로그램의 인스턴스당 통계 1000 구독을 허용 합니다. 에 또한에 응용 프로그램의 인스턴스 상태 업데이트에 대 한 사용자의 전체 사용자 목록 길이 구독할 수도 수 있습니다. 이 숫자 릴리스를 나중에 변경 될 수 있으므로 조정 되 고 되어 있습니다.
