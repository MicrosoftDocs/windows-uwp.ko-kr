---
title: RTA 모범 사례
description: Xbox Live 실시간 활동 서비스를 사용 하는 경우 모범 사례에 알아봅니다.
ms.assetid: 543b78e3-d06b-4969-95db-2cb996a8bbd3
ms.date: 04/04/2017
ms.topic: article
keywords: xbox live, xbox, 게임, uwp, windows 10, 하나는 xbox, 실시간 활동
ms.localizationpriority: medium
ms.openlocfilehash: 7733aab9330c316ad5938cf9a2ef763e06f19b9a
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 03/06/2019
ms.locfileid: "57613568"
---
# <a name="real-time-activity-rta-best-practices"></a>실시간으로 (RTA) 작업에 대 한 유용한 정보
이러한 모범 사례는 RTA 타이틀의 사용을 최대한 활용 하는 데 도움이 됩니다.


## <a name="the-basics"></a>기본 사항

RTA는 WebSocket 세션을 사용 하 여 클라이언트를 사용 하 여 영구 연결을 만듭니다. 어떻게 서비스 통계를 제공 하는 것이입니다. 인증 된 연결 요청을 전송 해야 하는 클라이언트 및 RTA 요청에서 제공한 토큰을 사용 하 여 연결을 설정할 수 있으며 다음 설정 확인 합니다.

연결을 설정한 후에, 응용 프로그램 특정 통계에 대 한 구독 요청 가능 합니다. RTA는 성공적으로 구독에서 현재 값 및 형식의 응답 페이로드의 일부로 통계와 같은 일부 추가 메타 데이터를 반환 합니다. 그런 다음 RTA에는 클라이언트에서 구독 하는 동안 통계에 발생 하는 모든 업데이트를 전달 합니다.

제목 통계에 대 한 실시간 업데이트를 요구 하지 않습니다 된 통계에 해당 구독을 종료 해야 합니다.


## <a name="handling-disconnects"></a>처리 연결을 끊습니다.

제목은 사용자에 대 한 인증 토큰이 만료 되 면 해당 세션은 서비스에서 종료 됩니다 알고 있어야 합니다. 제목 이러한 이벤트가 발생 하는 시기를 감지할 수 다시 연결 하 고 이전에 구독 된 모든 통계를 다시 구독 해야 합니다.

RTA 연결이 2 시간 후 다시 연결 하려면 클라이언트는 기본적으로 닫힙니다. 이 연결에 대 한 인증 토큰은 메시지 대역폭을 절약 하려면 캐시 때문에 수행 됩니다. 결국 해당 토큰은 만료 됩니다. 연결을 닫고 다시 연결 하려면 클라이언트 강제 적용 하 여 클라이언트 인증 토큰을 새로 고침을 강제 합니다.

클라이언트 제목에 대 한 프로세스를 일시 중지 또는 문제가 사용자의 ISP 인해 연결이 끊어지는 수도 없습니다. 이 경우는 WebSocket 이벤트가 발생 하 여 클라이언트에 알려야 합니다. 일반적으로 것이 좋습니다 처리할 수 있어야 하는 방법은 서비스에서 연결을 끊습니다.

> [!WARNING]
> 클라이언트 멀티 플레이 세션에 대 한 RTA를 사용 하 고 30 초 동안 연결이 끊어진 경우 합니다 [멀티 플레이 세션 Directory(MPSD)](../multiplayer/multiplayer-appendix/multiplayer-session-directory.md) RTA 세션을 닫고 사용자 세션에서 로그 아웃 시작을 검색 합니다. 달려 RTA 클라이언트에 다시 연결을 시작 및 재구독 합니다 MPSD 세션을 종료 하기 전에 연결이 닫힌 경우를 감지 합니다.

## <a name="managing-subscriptions"></a>구독 관리

토큰이 만료 되 면 구독 관리와 관련 하 여을 제목 추적 해야 모든는 시간 구독 내용이 합니다. RTA를 성공적으로 구독 시 각 구독된 통계에 대 한 고유 식별자를 반환 합니다. 해당 통계를 모든 이후 업데이트에서 식별자는 통계의 이름 대신 사용 됩니다. 대역폭을 절약 하 여 수행 됩니다. 클라이언트는 자체 매핑의 RTA 구독 Id에 대 한 통계를 유지 관리 하는 일을 담당 합니다.


## <a name="unsubscribing"></a>구독 취소

사용 되지 않는 구독 바람직하지 않습니다 것입니다. 서비스는 사용자 문서당 제목이 지정된 된 시간에는 구독의 수를 제한 합니다. 모든 항목 및 작업에 가입 하는 경우 해당 제한에 도달할 수 있습니다 하 고이 몇 가지 중요 한 통계를 구독 하지 못할 수 있습니다. (구독 제한에 대 한 자세한 내용은 참조 하세요. **제한**이 항목의 뒷부분에 나오는.)

예를 들어 제목에만 필요할 수 특정 장면에 대 한 구독. 사용자가 해당 장면에 입력 하면 제목 구독 해야 합니다. 사용자가 해당 장면을 완료 하는 경우 해당 통계를 구독 하지 이어야 합니다. 마찬가지로, 구독이 없습니다. 필요한 경우 사용할 수 있는 구독 취소-모든 메시지를 됩니다.

이 구독을 취소 한 후 구독 식별자는 통계에 대해 더 이상 사용 됩니다.


## <a name="awareness-of-latent-items-in-the-queue"></a>큐의 숨겨진 항목에 대 한 인식

통계에서 구독을 취소할 때에 클라이언트에 도달 하는 중에 여전히 통계에 대 한 업데이트 상태가 있을 수 있습니다. 따라서을 제목에만 통계에서 구독을 취소, 경우에 주의 업데이트 되었거나 관련 된 통계를 가져올 계속 될 수 있습니다.

구독 식별자를 인식할 수 없을 때 통계에 대 한 업데이트를 무시 하는 것이 좋습니다.


## <a name="ignore-messages-you-do-not-understand"></a>알 수 없는 메시지를 무시 합니다.

메시지 프로토콜은 업데이트는 불가능 합니다. 새 메시지의 알 수 없는 앱을 유지 하려면 제목에 단순히 알 수 없는 메시지 유형 삭제 하는 것이 좋습니다.


## <a name="throttles"></a>제한

RTA는 서비스에 특정 제한을 적용합니다.

-   UserStats: 1000
-   현재 상태: 2500

클라이언트를 수행할 제한적 한도 도달 하는 경우 구독/구독 취소 호출 중 오류가 발생 하거나 연결이 끊어집니다. 두 경우 모두 적중 된 조정 제한에 대 한 자세한 내용은 오류 메시지와 함께 클라이언트로 사용할 수는 또는 메시지 연결을 끊습니다.

제목을 개발할 때 이러한 개념 사항에 유의 해야 합니다. 큰 값을 수행 하는 서비스 호출 제한 될 수 있으므로 성능 저하 앱 환경을 해야 합니다. 이제 오른쪽 서비스 응용 프로그램의 인스턴스당 통계에 1000 구독을 허용 합니다. 그 외에는 응용 프로그램 인스턴스의 현재 상태 업데이트에 대 한 사용자의 전체 사용자 목록 길이 구독할 수도 있습니다. 이 숫자 튜닝할는 릴리스에서 나중에 변경 될 수 있도록 합니다.
